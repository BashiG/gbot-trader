(function(){var t,e,n="undefined"!=typeof exports&&exports||this;t=require("lodash"),n.currentTime=e=function(){return Math.round((new Date).getTime()/1e3)},exports.objToString=function(t){var e;return e="",Object.keys(t).forEach(function(n){if(t.hasOwnProperty(n))return e+=n+" :: "+t[n]+"\n"}),e},exports.declOfNum=function(t,e){var n,r,u;return null!=e&&(n=e),n||(n=t>=1?["минута","минуты","минут"]:["секунда","секунды","секунд"],t=t<1?60*t:t),r=[2,0,1,1,1,2],u=n[t%100>4&&t%100<20?2:r[t%10<5?t%10:5]],t+" "+u},exports.rounded=function(t,e){return null==e&&(e=3),+(+t).toFixed(e)},exports.rounding=function(t,e){return Math.ceil(t*+("1e"+e))/+("1e"+e)},exports.timeIsOver=function(t,n){return e()-t>=60*n},exports.noExp=function(t){return t.toFixed(10).replace(/(.*0\.0*[1-9]*)0+\d*/g,"$1")},exports.searchFirstRate=function(e,n){var r,u,o;return r=[],t.forIn(e,function(t,e){r.push(t)}),u=r.sort(function(t,e){return e.rate-t.rate}),o=t.findKey(u,function(t){return t.rate<=n}),u[o]},exports.quantityOrdersType=function(e){var n,r;return n=0,r=0,t.forIn(e,function(t,e){"buy"===t.type&&n++,"sell"===t.type&&r++}),{buy:n,sell:r}},exports.searchRate=function(e,n){var r,u;return r=[],t.forIn(e,function(t,e){"min"===n&&"buy"!==t.type||"max"===n&&"sell"!==t.type||r.push(t)}),u=r.sort(function(t,e){return e.rate-t.rate}),"min"===n?t.last(u):t.head(u)},exports.percentageBetweenNumbers=function(t,e){return e>0?+(100*t/e).toFixed(1):0},exports.amountPlusPercent=function(t,e){return t*(1+e/100)},exports.amountMinusPercent=function(t,e){return t*(1-e/100)}}).call(this);